{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY_API = '43330022-ba36650dc11c5492edb18bb80'\nconst BASE_URL = 'https://pixabay.com'\n\nexport function fetchPhotoByPixaby(searchWord) {\n    const searchParams = new URLSearchParams({\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        key: KEY_API,\n        q: searchWord\n    })\n\n    return fetch(`${BASE_URL}/api/?${searchParams}`).then(res => {\n        if(!res.ok) {\n            throw new Error(res.status)\n        }\n\n        return res.json()\n    })\n}","export function createCard(elements) {\n    return elements.map(elem => {\n        return `<li class=\"gallery-item\">\n            <a class=\"gallery-item__link\" href=\"${elem.largeImageURL}\"><div class=\"img-container\"><img class=\"gallery-img\" src=\"${elem.webformatURL}\" alt=\"${elem.tags}\"></div>\n            <ul class=\"img-description__list\">\n            <li class=\"img-description__item\">\n                <p class=\"img-description__title\">\n                Likes\n                </p>\n                <p class=\"img-description__text\">\n                ${elem.likes}\n                </p>\n            </li>\n            <li class=\"img-description__item\">\n                <p class=\"img-description__title\">\n                Views\n                </p>\n                <p class=\"img-description__text\">\n                ${elem.views}\n                </p>\n            </li>\n            <li>\n                <li class=\"img-description__item\">\n                <p class=\"img-description__title\">\n                    Comments\n                </p>\n                <p class=\"img-description__text\">\n                    ${elem.comments}\n                </p>\n                </li>\n            </li>\n            <li>\n                <li class=\"img-description__item\">\n                <p class=\"img-description__title\">\n                    Downloads\n                </p>\n                <p class=\"img-description__text\">\n                    ${elem.downloads}\n                </p>\n                </li>\n            </li>\n            </ul>\n        </a>\n      </li>`\n    }).join('')\n}","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nimport { fetchPhotoByPixaby } from \"./js/pixabay-api\";\nimport { createCard } from \"./js/render-functions\";\n\n\nconst formElem = document.querySelector('.form')\nconst inputFormElem = document.querySelector('.form-input')\nconst galleryListElem = document.querySelector('.gallery-list')\nconst loaderElem = document.querySelector('.loader')\n\nfunction inputSearch(event) {\n    event.preventDefault();\n\n    if (inputFormElem.value.trim() === '') {\n        iziToast.info({\n            message: 'Введіть слово в поле для пошуку',\n            position: 'topRight',\n            backgroundColor: 'orange',\n        })\n        galleryListElem.innerHTML = ''\n\n        return\n    }\n    loaderElem.classList.add('is-visible')\n\n    fetchPhotoByPixaby(inputFormElem.value)\n        .finally(() => loaderElem.classList.remove('is-visible'))\n\n        .then(data => {\n            if (!data.hits.length) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    backgroundColor: 'red',\n                    theme: 'dark',\n                    position: 'topRight',\n                });\n                return\n            }\n\n            galleryListElem.innerHTML = createCard(data.hits)\n        })\n        .catch(error => console.log(error))\n\n\n    inputFormElem.value = ''\n}\nformElem.addEventListener('submit', inputSearch)\n\n\nlet gallery = new SimpleLightbox('.gallery-item__link', {\n    captionsData: 'alt',\n    captionDelay: 250\n}\n);\n\ngallery.on('show.simplelightbox', function (event) {\n    event.preventDefault()\n});"],"names":["KEY_API","BASE_URL","fetchPhotoByPixaby","searchWord","searchParams","res","createCard","elements","elem","formElem","inputFormElem","galleryListElem","loaderElem","inputSearch","event","iziToast","data","error","gallery","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,sBAEV,SAASC,EAAmBC,EAAY,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAKJ,EACL,EAAGG,CACX,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,SAASG,CAAY,EAAE,EAAE,KAAKC,GAAO,CACzD,GAAG,CAACA,EAAI,GACJ,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG9B,OAAOA,EAAI,KAAM,CACzB,CAAK,CACL,CCnBO,SAASC,EAAWC,EAAU,CACjC,OAAOA,EAAS,IAAIC,GACT;AAAA,kDACmCA,EAAK,aAAa,8DAA8DA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOpJA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBASNA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAUbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAO/B,EAAE,KAAK,EAAE,CACd,CCtCA,MAAMC,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAgB,SAAS,cAAc,aAAa,EACpDC,EAAkB,SAAS,cAAc,eAAe,EACxDC,EAAa,SAAS,cAAc,SAAS,EAEnD,SAASC,EAAYC,EAAO,CAGxB,GAFAA,EAAM,eAAc,EAEhBJ,EAAc,MAAM,KAAI,IAAO,GAAI,CACnCK,EAAS,KAAK,CACV,QAAS,kCACT,SAAU,WACV,gBAAiB,QAC7B,CAAS,EACDJ,EAAgB,UAAY,GAE5B,MACH,CACDC,EAAW,UAAU,IAAI,YAAY,EAErCV,EAAmBQ,EAAc,KAAK,EACjC,QAAQ,IAAME,EAAW,UAAU,OAAO,YAAY,CAAC,EAEvD,KAAKI,GAAQ,CACV,GAAI,CAACA,EAAK,KAAK,OAAQ,CACnBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,gBAAiB,MACjB,MAAO,OACP,SAAU,UAC9B,CAAiB,EACD,MACH,CAEDJ,EAAgB,UAAYL,EAAWU,EAAK,IAAI,CAC5D,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAGtCP,EAAc,MAAQ,EAC1B,CACAD,EAAS,iBAAiB,SAAUI,CAAW,EAG/C,IAAIK,EAAU,IAAIC,EAAe,sBAAuB,CACpD,aAAc,MACd,aAAc,GAClB,CACA,EAEAD,EAAQ,GAAG,sBAAuB,SAAUJ,EAAO,CAC/CA,EAAM,eAAgB,CAC1B,CAAC"}